/*
 *  jQuery NodeTree - v2.0.3
 *  A nested Checkbox Tree with Indeterminate prop and clean visual styles.
 *  http://jqueryboilerplate.com
 *
 *  Made by Harley Jessop
 *  Under MIT License
 */
!function(a){function b(b,e){this.element=b,this.settings=a.extend({},d,e),this._defaults=d,this._name=c,this.init()}var c="nodeTree",d={treeSel:".nt",nodeSel:".nt__node",branchSel:".nt__branch",headerSel:".nt__branch__header",emptySel:".nt__baren",trunkCls:"nt__trunk",checkAllSel:".nt__check-all",uncheckAllSel:".nt__uncheck-all",chopAllSel:".nt__chop-all",growAllSel:".nt__grow-all",growingCls:"nt__node--growing",checkedCls:"nt__node--checked",indeterminateCls:"nt__node--indeterminate",iconSel:".fa",growIconCls:"fa-plus",chopIconCls:"fa-minus",nodeInputSel:".nt__node__input",autoPaint:!0};b.prototype={init:function(){var b=this,c=this.settings,d=this.element;a(d).on("click",c.nodeInputSel,function(a){a.stopPropagation()}).on("click",c.nodeSel,function(){a(this).siblings(c.branchSel).length&&(a(this).toggleClass(c.growingCls),b.toggleIcon(a(this)))}).on("click",c.checkAllSel,function(){a(d).find(":checkbox").prop({checked:"checked",indeterminate:!1}).trigger("change")}).on("click",c.uncheckAllSel,function(){a(d).find(":checkbox").removeAttr("checked").trigger("change")}).on("click",c.growAllSel,function(){a(d).find(c.nodeSel).each(function(){a(this).siblings(c.branchSel).length&&(a(this).addClass(c.growingCls),b.toggleIcon(a(this)))})}).on("click",c.chopAllSel,function(){a(d).find(c.nodeSel).each(function(){a(this).removeClass(c.growingCls),b.toggleIcon(a(this))})}).on("change",":checkbox",function(d){d.stopPropagation();var e,f=a(this).prop("checked"),g=a(this.parentNode.parentNode.parentNode);e=a(g).find(":checkbox"),e.prop({indeterminate:!1,checked:f}),b.paint(this),b.paint(e),g.parent().parent().hasClass(c.trunkCls)||b.checkSib(g,f)}),c.autoPaint&&a(d).find(c.nodeSel).find(":checked").change()},paint:function(b){var c=this.settings;a(b).each(function(){a(this).closest(c.nodeSel).toggleClass(c.checkedCls,a(b).is(":checked")).toggleClass(c.indeterminateCls,a(b).prop("indeterminate")===!0)})},toggleIcon:function(a){var b=this.settings;a.hasClass(b.growingCls)?a.find(b.iconSel).removeClass(b.growIconCls).addClass(b.chopIconCls):a.find(b.iconSel).removeClass(b.chopIconCls).addClass(b.growIconCls)},checkSib:function(b,c){if(b.length){var d,e=this,f=this.settings,g=b.parent().parent(),h=!0;d=g.children(f.nodeSel).find(":checkbox"),b.siblings().not(f.headerSel,f.emptySel).each(function(){return h=a(this).find(":checkbox").prop("checked")===c}),h&&c?(a(":checkbox",g).prop({indeterminate:!1,checked:c}),e.paint(d),e.checkSib(g,c)):h&&!c?(d.prop("checked",c),d.prop("indeterminate",g.find(":checked").length),e.paint(d),e.checkSib(g,c)):(b.parents("li").children(f.nodeSel).find(":checkbox").prop({indeterminate:!0,checked:!1}),e.paint(b.parents("li").children(f.nodeSel).find(":checkbox")))}}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))}),this}}(jQuery,window,document);